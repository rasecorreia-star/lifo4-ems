# Mosquitto MQTT Broker Configuration
# Production: enable TLS + authentication

# Plain MQTT (for edge controllers in local network)
listener 1883
allow_anonymous true

# WebSocket (for frontend dashboard)
listener 9001
protocol websockets
allow_anonymous true

# Persistence
persistence true
persistence_location /mosquitto/data/

# Logging
log_dest stdout
log_type all

# Security note: In production, enable TLS and authentication:
# listener 8883
# certfile /mosquitto/certs/server.crt
# keyfile /mosquitto/certs/server.key
# cafile /mosquitto/certs/ca.crt
# require_certificate true
# allow_anonymous false
# password_file /mosquitto/config/passwd
